<div class="container mt-5 pt-5 w-100 h-auto">
  <ng-container *ngIf="characters$ | async as characters; else loading">
    <!-- Se vazio -->
    <div *ngIf="characters.length === 0" class="text-center text-white">
      <img
        src="https://media.tenor.com/4DYoM7XbGe0AAAAC/rick-sanchez-rick.gif"
        alt="Rick portal"
        style="max-width: 250px"
        class="mb-4"
      />
      <h4 style="font-family: 'Orbitron', sans-serif; color: #39ff14">
        ðŸŒ€ Nenhum ser interdimensional encontrado!
      </h4>
      <p class="text-white">
        Use seu portal gun e tente novamente em outro universo.
      </p>
    </div>

    <div class="row g-4" *ngIf="characters.length > 0">
      <div class="col-sm-6 col-md-4 col-lg-3" *ngFor="let c of characters">
        <div class="card h-100 shadow-sm border-0 hover-card position-relative">
          <img
            [src]="c.image"
            class="card-img-top rounded-top"
            [alt]="c.name"
          />
          <div class="card-body">
            <h5 class="card-title text-center">{{ c.name }}</h5>
            <p class="card-text text-center text-muted mb-1">
              <span class="badge bg-info text-dark">{{ c.status }}</span>
              <span class="badge bg-secondary">{{ c.gender }}</span>
            </p>
            <p class="card-text small text-center">
              <strong>Origin:</strong> {{ c.origin.name }}<br />
              <strong>Location:</strong> {{ c.location.name }}
            </p>
          </div>
          <div
            class="card-footer bg-white border-top-0 d-flex justify-content-between align-items-center px-3"
          >
            <a
              [href]="c.url"
              target="_blank"
              class="btn btn-sm btn-outline-primary"
            >
              Ver Detalhes
            </a>

            <button
              class="btn btn-sm btn-outline-danger"
              [attr.aria-label]="'Favoritar ' + c.name"
            >
              <i class="bi bi-heart">Favoritar</i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- Template de loading opcional -->
  <ng-template #loading>
    <div class="text-center text-white">
      <div class="spinner-border text-success" role="status"></div>
      <p>Carregando seres do multiverso...</p>
    </div>
  </ng-template>
</div>
